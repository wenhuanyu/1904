<view class="background"><view class="{{[preventEvent?'prevent':'']}}"><view class="container info mb-20"><view class="group"><view class="title">订单号</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-1" type="text" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{order_no}}" data-event-opts="{{[['^input',[['__set_model',['','order_no','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view><view class="group"><view class="title">日期</view><view class="outModal"><uni-datetime-picker class="date-picker vue-ref" vue-id="068ced46-2" value="{{date}}" placeholder="请选择日期" disabled="{{true}}" data-ref="formDate" bind:__l="__l"></uni-datetime-picker></view></view><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">是否虚拟</view><picker class="picker" value="{{fIndex}}" range="{{ficList}}" range-key="name" disabled="{{true}}" data-event-opts="{{[['change',[['changefic',['$event']]]]]}}" bindchange="__e"><block wx:if="{{fIndex==-1}}"><view class="uni-input">请选择</view></block><block wx:else><view class="uni-input">{{ficList[fIndex].name}}</view></block><image class="image" src="/static/image/picker.png"></image></picker></view></block><view class="group"><view class="title">客户名称</view><view class="outModal"><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-3" placeholder="请选择" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{clientName}}" data-event-opts="{{[['^input',[['__set_model',['','clientName','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></view><view class="group"><view class="title">收货地址</view><view class="input" style="font-size:28rpx;border:2rpx solid #e5e5e5;padding:20rpx;width:510rpx;border-radius:10rpx;color:#808080;min-height:40rpx;">{{''+addressData+''}}</view></view><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">收货人姓名</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-4" type="text" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{contact_name}}" data-event-opts="{{[['^input',[['__set_model',['','contact_name','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">收货人电话</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-5" type="text" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{contact_phone}}" data-event-opts="{{[['^input',[['__set_model',['','contact_phone','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">收货所在区域</view><picker class="picker" disabled="{{true}}" mode="region" value="{{cityList}}" range="{{cityList}}" data-event-opts="{{[['change',[['selCity',['$event']]]]]}}" bindchange="__e"><view class="flex"><block wx:if="{{!addressNode.province}}"><view class="date_text" style="color:#666666;">请选择省市区</view></block><block wx:else><view class="date_text">{{''+addressNode.province+addressNode.city+addressNode.prefecture+''}}</view></block><image class="image" src="/static/image/picker.png"></image></view></picker></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">街道</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-6" type="text" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{street}}" data-event-opts="{{[['^input',[['__set_model',['','street','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">寄件人姓名</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-7" type="text" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{send_name}}" data-event-opts="{{[['^input',[['__set_model',['','send_name','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">寄件人电话</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-8" type="text" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{send_phone}}" data-event-opts="{{[['^input',[['__set_model',['','send_phone','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">寄件所在区域</view><picker class="picker" disabled="{{true}}" mode="region" value="{{sendcityList}}" range="{{sendcityList}}" data-event-opts="{{[['change',[['sendCity',['$event']]]]]}}" bindchange="__e"><view class="flex"><block wx:if="{{!sendaddressNode.province}}"><view class="date_text" style="color:#666666;">请选择省市区</view></block><block wx:else><view class="date_text">{{''+sendaddressNode.province+sendaddressNode.city+sendaddressNode.prefecture+''}}</view></block><image class="image" src="/static/image/picker.png"></image></view></picker></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">寄件街道</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-9" type="text" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{send_street}}" data-event-opts="{{[['^input',[['__set_model',['','send_street','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block></view><view class="container" style="display:flex;justify-content:space-between;"><view style="font-size:30rpx;">销售产品清单：</view><block wx:if="{{pingbi==1&&yincang==1}}"><view data-event-opts="{{[['tap',[['pingbiclick',['$event']]]]]}}" style="padding:10rpx 20rpx;background:#007AFF;color:#FFFFFF;" bindtap="__e">一键屏蔽</view></block><block wx:if="{{pingbi==2&&yincang==1}}"><view data-event-opts="{{[['tap',[['huifu',['$event']]]]]}}" style="padding:10rpx 20rpx;background:#B12C54;color:#FFFFFF;" bindtap="__e">一键恢复</view></block></view><view class=" good "><block wx:for="{{list}}" wx:for-item="item" wx:for-index="index" wx:key="id"><view class="add_list"><view class="flex group"><view class="title">商品名称</view><view class="outModal"><uni-easyinput bind:input="__e" class="input" vue-id="{{'068ced46-10-'+index}}" placeholder="请选择" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{item.name}}" data-event-opts="{{[['^input',[['__set_model',['$0','name','$event',[]],[[['list','id',item.id]]]]]]]}}" bind:__l="__l"></uni-easyinput></view></view><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">重量(克)</view><uni-easyinput bind:input="__e" class="input" vue-id="{{'068ced46-11-'+index}}" type="text" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{item.weight}}" data-event-opts="{{[['^input',[['__set_model',['$0','weight','$event',[]],[[['list','id',item.id]]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><view class="group"><view class="title">销售数量</view><uni-easyinput class="input" vue-id="{{'068ced46-12-'+index}}" type="number" value="{{item.count}}" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" data-event-opts="{{[['^input',[['num',['$event',index]]]]]}}" bind:input="__e" bind:__l="__l"></uni-easyinput></view><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">成本单价</view><uni-easyinput class="input" vue-id="{{'068ced46-13-'+index}}" type="number" value="{{item.cost_price}}" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" bind:__l="__l"></uni-easyinput></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">成本金额</view><uni-easyinput bind:input="__e" class="input" vue-id="{{'068ced46-14-'+index}}" type="number" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{item.costAmount}}" data-event-opts="{{[['^input',[['__set_model',['$0','costAmount','$event',[]],[[['list','id',item.id]]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><view class="group"><view class="title">销售单价</view><uni-easyinput class="input" vue-id="{{'068ced46-15-'+index}}" type="number" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{item.sales_price}}" data-event-opts="{{[['^input',[['__set_model',['$0','sales_price','$event',[]],[[['list','id',item.id]]]],['price',['$event',index]]]]]}}" bind:input="__e" bind:__l="__l"></uni-easyinput></view><view class="group"><view class="title">销售金额</view><uni-easyinput bind:input="__e" class="input" vue-id="{{'068ced46-16-'+index}}" type="number" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{item.salesAmount}}" data-event-opts="{{[['^input',[['__set_model',['$0','salesAmount','$event',[]],[[['list','id',item.id]]]]]]]}}" bind:__l="__l"></uni-easyinput></view><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">利润</view><uni-easyinput bind:input="__e" class="input" vue-id="{{'068ced46-17-'+index}}" type="number" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{item.profits}}" data-event-opts="{{[['^input',[['__set_model',['$0','profits','$event',[]],[[['list','id',item.id]]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">利润率(%)</view><uni-easyinput bind:input="__e" class="input" vue-id="{{'068ced46-18-'+index}}" type="number" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{item.profitMargin}}" data-event-opts="{{[['^input',[['__set_model',['$0','profitMargin','$event',[]],[[['list','id',item.id]]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><view class="group"><view class="title">备注</view><view class="input" style="font-size:28rpx;border:2rpx solid #e5e5e5;padding:20rpx;width:510rpx;border-radius:10rpx;color:#808080;min-height:40rpx;">{{''+item.remark+''}}</view></view><view style="width:100%;height:16rpx;background:#f6f6f6;"></view></view></block></view><view class="container relative mt-20"><view class="group"><view class="title">总销售金额</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-19" type="number" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{totalAmount}}" data-event-opts="{{[['^input',[['__set_model',['','totalAmount','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">总重量</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-20" type="number" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{totalWeight}}" data-event-opts="{{[['^input',[['__set_model',['','totalWeight','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">整单利润</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-21" type="number" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{totalProfit}}" data-event-opts="{{[['^input',[['__set_model',['','totalProfit','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">整单利润率(%)</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-22" type="number" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{totalprofitMargin}}" data-event-opts="{{[['^input',[['__set_model',['','totalprofitMargin','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">销售提成</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-23" type="number" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{salesCommissions}}" data-event-opts="{{[['^input',[['__set_model',['','salesCommissions','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block><block wx:if="{{pingbi==1}}"><view class="group"><view class="title">同事提成</view><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-24" type="number" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{colleaguesCommission}}" data-event-opts="{{[['^input',[['__set_model',['','colleaguesCommission','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></block></view><block wx:if="{{supply_list.length>0}}"><view class="container" style="display:flex;justify-content:space-between;"><view style="font-size:30rpx;">补发产品清单：</view></view></block><block wx:if="{{supply_list.length>0}}"><view class=" good "><block wx:for="{{supply_list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="add_list"><view class="flex group"><view class="title">商品名称</view><view class="outModal"><uni-easyinput bind:input="__e" class="input" vue-id="{{'068ced46-25-'+index}}" placeholder="请选择" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{item.goods_name}}" data-event-opts="{{[['^input',[['__set_model',['$0','goods_name','$event',[]],[[['supply_list','',index]]]]]]]}}" bind:__l="__l"></uni-easyinput></view></view><view class="group"><view class="title">补发日期</view><uni-easyinput bind:input="__e" class="input" vue-id="{{'068ced46-26-'+index}}" type="text" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{item.supply_date}}" data-event-opts="{{[['^input',[['__set_model',['$0','supply_date','$event',[]],[[['supply_list','',index]]]]]]]}}" bind:__l="__l"></uni-easyinput></view><view class="group"><view class="title">补发数量</view><uni-easyinput bind:input="__e" class="input" vue-id="{{'068ced46-27-'+index}}" type="text" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{item.count}}" data-event-opts="{{[['^input',[['__set_model',['$0','count','$event',[]],[[['supply_list','',index]]]]]]]}}" bind:__l="__l"></uni-easyinput></view><view style="width:100%;height:16rpx;background:#f6f6f6;"></view></view></block></view></block><block wx:if="{{express_no.length>0}}"><view style="display:flex;justify-content:space-between;padding-left:30rpx;padding-right:30rpx;margin-top:20rpx;"><view style="font-size:30rpx;">快递详情：</view><view data-event-opts="{{[['tap',[['update',['$event']]]]]}}" style="padding:10rpx 20rpx;background:#007AFF;color:#FFFFFF;margin-right:10rpx;" bindtap="__e">物流更新</view></view></block><block wx:if="{{express_no.length>0}}"><view class="container mt-20 info"><block wx:for="{{express_no}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20rpx;"><view class="{{[(count==index)?'btna':'']}}" style="display:flex;font-size:26rpx;"><view style="width:130rpx;">快递单号：</view><view style="width:300rpx;">{{item.express_no}}</view></view><view style="display:flex;"><view data-event-opts="{{[['tap',[['changeCourier',['$0',index],[[['express_no','',index]]]]]]]}}" style="padding:10rpx 20rpx;background:#007AFF;color:#FFFFFF;margin-right:10rpx;font-size:20rpx;" bindtap="__e">查询物流</view><view data-event-opts="{{[['tap',[['copy',['$0'],[[['express_no','',index]]]]]]]}}" style="padding:10rpx 20rpx;background:#FF5722;color:#FFFFFF;font-size:20rpx;" bindtap="__e">复制单号</view></view></view></block></view></block><block wx:if="{{express_no.length>0}}"><view class="background_bottom"><block wx:for="{{expressage}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view><view class="background_bottom_box mt-10"><view class="background_bottom_box_top"><view class="background_bottom_box_ball"><block wx:if="{{index!==expressage.length-1}}"><view class="line"></view></block></view><view class="background_bottom_box_top_text" style="margin-left:40rpx;">{{item.context}}</view></view><view class="background_bottom_box_bottom"><view style="margin-left:40rpx;">{{item.time}}</view></view></view></view></block></view></block><view hidden="{{!(showClient)}}" class="modal" catchtouchmove="noneEnoughPeople"><view class="modal-main"><view class="modal-title"><view class="text">客户选择</view><image class="close" src="/static/image/modal-close.png" data-event-opts="{{[['tap',[['closeModal',['client']]]]]}}" bindtap="__e"></image></view><view class="modal-body"><view class="search flex"><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-28" placeholder="请输入客户名称" modelValue="{{username}}" data-event-opts="{{[['^input',[['__set_model',['','username','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput><button data-event-opts="{{[['tap',[['searchClient',['$event']]]]]}}" class="btn-search" bindtap="__e">搜索</button></view><view class="contact" style="height:800rpx;"><block wx:for="{{clientList}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view data-event-opts="{{[['tap',[['selectClient',[i,'$0'],['index']]]]]}}" class="item_box" bindtap="__e"><view class="flex"><view class="title" style="width:130rpx;">ID</view><view>：</view><view class="value">{{item.id}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">客户名称</view><view>：</view><view class="value">{{item.name}}</view></view></view></block></view><uni-pagination vue-id="068ced46-29" total="{{total}}" pageSize="20" current="{{page}}" showIcon="{{true}}" data-event-opts="{{[['^change',[['handlePage']]]]}}" bind:change="__e" bind:__l="__l"></uni-pagination></view></view></view><view hidden="{{!(showGood)}}" class="modal" catchtouchmove="noneEnoughPeople"><view class="modal-main"><view class="modal-title"><view class="text">商品选择</view><image class="close" src="/static/image/modal-close.png" data-event-opts="{{[['tap',[['closeModal',['good']]]]]}}" bindtap="__e"></image></view><view class="modal-body"><view class="search flex"><uni-easyinput bind:input="__e" class="input" vue-id="068ced46-30" placeholder="请输入商品信息" modelValue="{{textGood}}" data-event-opts="{{[['^input',[['__set_model',['','textGood','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput><button data-event-opts="{{[['tap',[['searchGood',['$0'],['index']]]]]}}" class="btn-search" bindtap="__e">搜索</button></view><view class="flex" style="justify-content:space-between;"><checkbox-group name="allCheck" data-event-opts="{{[['change',[['changeAll',['$event']]]]]}}" bindchange="__e"><checkbox class="checkClick round" value="{{allCheck.value}}" checked="{{allCheck.checked}}"></checkbox><text class="cl fs28">{{allCheck.name}}</text><text class="cl fs28 ml-20">{{"共"+checkedArr.length+"条"}}</text></checkbox-group><button data-event-opts="{{[['tap',[['selectGood',['$event']]]]]}}" class="btn-search" style="width:180rpx;" bindtap="__e">确定添加</button></view><view class="contact" style="height:700rpx;"><checkbox-group data-event-opts="{{[['change',[['changeCheck',['$event']]]]]}}" class="check_box" bindchange="__e"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view class="item_box flex"><checkbox class="checkClick round mr-20" value="{{item.$orig.id}}" checked="{{item.g0}}"></checkbox><view><view class="flex"><view class="title" style="width:130rpx;">ID</view><view>：</view><view class="value">{{item.$orig.id}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">商品名称</view><view>：</view><view class="value">{{item.$orig.name}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">品牌</view><view>：</view><view class="value">{{item.$orig.brand_name}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">条码</view><view>：</view><view class="value">{{item.$orig.barcode}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">成本价</view><view>：</view><view class="value">{{item.$orig.cost_price}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">销售价</view><view>：</view><view class="value">{{item.$orig.sales_price}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">重量</view><view>：</view><view class="value">{{item.$orig.weight}}</view></view></view></view></block></checkbox-group></view><uni-pagination vue-id="068ced46-31" total="{{totalShop}}" pageSize="20" current="{{pageShop}}" showIcon="{{true}}" data-event-opts="{{[['^change',[['handlePageShop']]]]}}" bind:change="__e" bind:__l="__l"></uni-pagination></view></view></view></view></view>