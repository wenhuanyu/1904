<view class="fix-padding background"><view class="{{[preventEvent?'prevent':'']}}"><view class="container info mb-20"><view class="group"><view class="title">换货单号</view><uni-easyinput bind:input="__e" class="input" vue-id="65f2d9c6-1" type="text" placeholder="请输入" placeholder-style="color:#8D8D8D;" modelValue="{{order_no}}" data-event-opts="{{[['^input',[['__set_model',['','order_no','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view><view class="group"><view class="title">日期</view><view class="outModal"><uni-datetime-picker class="date-picker vue-ref" vue-id="65f2d9c6-2" value="{{date}}" placeholder="请选择日期" data-ref="formDate" data-event-opts="{{[['^change',[['changeDate',['$event']]]]]}}" bind:change="__e" bind:__l="__l"></uni-datetime-picker></view></view><view class="group"><view class="title">销售单</view><view data-event-opts="{{[['tap',[['openModal',['client']]]]]}}" class="outModal" bindtap="__e"><uni-easyinput bind:input="__e" class="input" vue-id="65f2d9c6-3" placeholder="请选择" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{clientName}}" data-event-opts="{{[['^input',[['__set_model',['','clientName','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></view></view><view class="container good "><block wx:for="{{list}}" wx:for-item="item" wx:for-index="index" wx:key="id"><view class="add_list"><view class="flex group"><view class="title">商品名称</view><view class="outModal"><uni-easyinput bind:input="__e" class="input" vue-id="{{'65f2d9c6-4-'+index}}" placeholder="请选择" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{item.name}}" data-event-opts="{{[['^input',[['__set_model',['$0','name','$event',[]],[[['list','id',item.id]]]]]]]}}" bind:__l="__l"></uni-easyinput></view></view><view class="group"><view class="title">销售数量</view><uni-easyinput class="input" vue-id="{{'65f2d9c6-5-'+index}}" value="{{item.count}}" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" bind:__l="__l"></uni-easyinput></view><view class="group"><view class="title">剩余发货数量</view><uni-easyinput class="input" vue-id="{{'65f2d9c6-6-'+index}}" value="{{item.remain_send_count}}" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" bind:__l="__l"></uni-easyinput></view><view class="group"><view class="title">换货数量</view><input class="input" style="width:525rpx;border:2rpx solid #e5e5e5;color:#8D8D8D;height:80rpx;line-height:80rpx;padding-left:20rpx;" type="digit" placeholder="请输入" placeholder-style="color:#8D8D8D;" data-event-opts="{{[['input',[['__set_model',['$0','countReturn','$event',[]],[[['list','id',item.id]]]],['num',['$event',index]]]]]}}" value="{{item.countReturn}}" bindinput="__e"/></view><view class="group"><view class="title">备注</view><uni-easyinput bind:input="__e" class="input" vue-id="{{'65f2d9c6-7-'+index}}" placeholder="请输入" placeholder-style="color:#8D8D8D;" modelValue="{{item.remark}}" data-event-opts="{{[['^input',[['__set_model',['$0','remark','$event',[]],[[['list','id',item.id]]]]]]]}}" bind:__l="__l"></uni-easyinput></view><button data-event-opts="{{[['tap',[['del',[index]]]]]}}" class="btn-submit flex mb-20" style="background:#F89435;" bindtap="__e"><view>删除</view></button></view></block><button data-event-opts="{{[['tap',[['openModal',['good']]]]]}}" class="btn-submit flex btn-submit_color mb-20" bindtap="__e"><image class="image" src="/static/image/plus.png"></image><view>批量添加商品</view></button></view><view class="container relative mt-20"><view class="group"><view class="title">快递单号</view><uni-easyinput class="input" vue-id="65f2d9c6-8" placeholder="请输入" placeholder-style="color:#8D8D8D;" modelValue="{{express_no}}" data-event-opts="{{[['^blur',[['express',['$event','$0'],['index']]]],['^input',[['__set_model',['','express_no','$event',[]]]]]]}}" bind:blur="__e" bind:input="__e" bind:__l="__l"></uni-easyinput></view><view class="group"><view class="title">快递公司</view><view data-event-opts="{{[['tap',[['openModal',['express']]]]]}}" class="outModal" bindtap="__e"><uni-easyinput bind:input="__e" class="input" vue-id="65f2d9c6-9" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{express_name}}" data-event-opts="{{[['^input',[['__set_model',['','express_name','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></view><view class="group"><view class="title">快递编号</view><uni-easyinput bind:input="__e" class="input" vue-id="65f2d9c6-10" placeholder="请输入" placeholder-style="color:#8D8D8D;" disabled="{{true}}" modelValue="{{express_code}}" data-event-opts="{{[['^input',[['__set_model',['','express_code','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput></view></view><view hidden="{{!(showExpress)}}" class="modal"><view class="modal-main"><view class="modal-title"><view class="text">快递选择</view><image class="close" src="/static/image/modal-close.png" data-event-opts="{{[['tap',[['closeModal',['express']]]]]}}" bindtap="__e"></image></view><view class="modal-body"><view class="search flex"><uni-easyinput bind:input="__e" class="input" vue-id="65f2d9c6-11" placeholder="请输入快递名称" modelValue="{{expressSearch}}" data-event-opts="{{[['^input',[['__set_model',['','expressSearch','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput><button data-event-opts="{{[['tap',[['searchexpress',['$event']]]]]}}" class="btn-search" bindtap="__e">搜索</button></view><view class="contact" style="height:80%;"><block wx:for="{{ExpressList}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view data-event-opts="{{[['tap',[['selectExpress',[i,'$0'],['index']]]]]}}" class="item_box" bindtap="__e"><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">ID</view><view>：</view><view class="value">{{item.id}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">编号</view><view>：</view><view class="value">{{item.comCode}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">快递公司</view><view>：</view><view class="value">{{item.name}}</view></view></view></block></view><uni-pagination vue-id="65f2d9c6-12" total="{{totalexpress}}" pageSize="20" current="{{pageexpress}}" showIcon="{{true}}" data-event-opts="{{[['^change',[['handlePageExpress']]]]}}" bind:change="__e" bind:__l="__l"></uni-pagination></view></view></view><view hidden="{{!(showClient)}}" class="modal"><view class="modal-main"><view class="modal-title"><view class="text">销售单选择</view><image class="close" src="/static/image/modal-close.png" data-event-opts="{{[['tap',[['closeModal',['client']]]]]}}" bindtap="__e"></image></view><view class="modal-body"><view class="search flex"><uni-easyinput bind:input="__e" class="input" style="width:300rpx;" vue-id="65f2d9c6-13" placeholder="单号" modelValue="{{order_noSearch}}" data-event-opts="{{[['^input',[['__set_model',['','order_noSearch','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput><uni-easyinput bind:input="__e" class="input" style="width:300rpx;" vue-id="65f2d9c6-14" placeholder="客户名称" modelValue="{{customer_nameSearch}}" data-event-opts="{{[['^input',[['__set_model',['','customer_nameSearch','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput><button data-event-opts="{{[['tap',[['searchClient',['$event']]]]]}}" class="btn-search" bindtap="__e">搜索</button></view><view class="contact" style="height:80%;"><block wx:for="{{clientList}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view data-event-opts="{{[['tap',[['selectClient',[i,'$0'],['index']]]]]}}" class="item_box" bindtap="__e"><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">单号</view><view>：</view><view class="value">{{item.order_no}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">客户</view><view>：</view><view class="value">{{item.customer_name}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">收货地址</view><view>：</view><view class="value">{{item.address}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">收款状态</view><view>：</view><view class="value">{{item.format_coll}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">下单日期</view><view>：</view><view class="value">{{item.date}}</view></view></view></block></view><uni-pagination vue-id="65f2d9c6-15" total="{{total}}" pageSize="20" current="{{page}}" showIcon="{{true}}" data-event-opts="{{[['^change',[['handlePage']]]]}}" bind:change="__e" bind:__l="__l"></uni-pagination></view></view></view><view hidden="{{!(showGood)}}" class="modal"><view class="modal-main"><view class="modal-title"><view class="text">商品选择</view><image class="close" src="/static/image/modal-close.png" data-event-opts="{{[['tap',[['closeModal',['good']]]]]}}" bindtap="__e"></image></view><view class="modal-body"><view class="search flex"><uni-easyinput bind:input="__e" class="input" vue-id="65f2d9c6-16" placeholder="请输入商品信息" modelValue="{{textGood}}" data-event-opts="{{[['^input',[['__set_model',['','textGood','$event',[]]]]]]}}" bind:__l="__l"></uni-easyinput><button data-event-opts="{{[['tap',[['searchGood',['$0'],['index']]]]]}}" class="btn-search" bindtap="__e">搜索</button></view><view class="flex" style="justify-content:space-between;"><checkbox-group name="allCheck" data-event-opts="{{[['change',[['changeAll',['$event']]]]]}}" bindchange="__e"><checkbox class="checkClick round" value="{{allCheck.value}}" checked="{{allCheck.checked}}"></checkbox><text class="cl fs28">{{allCheck.name}}</text><text class="cl fs28 ml-20">{{"共"+checkedArr.length+"条"}}</text></checkbox-group><button data-event-opts="{{[['tap',[['selectGood',['$event']]]]]}}" class="btn-search" style="width:180rpx;" bindtap="__e">确定添加</button></view><view class="contact" style="height:70%;"><checkbox-group data-event-opts="{{[['change',[['changeCheck',['$event']]]]]}}" class="check_box" bindchange="__e"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view class="item_box flex"><checkbox class="checkClick round mr-20" value="{{item.$orig.sales_detail_id}}" checked="{{item.g0}}"></checkbox><view><view class="flex"><view class="title" style="width:130rpx;">ID</view><view>：</view><view class="value">{{item.$orig.sales_detail_id}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">商品名称</view><view>：</view><view class="value">{{item.$orig.goods_name}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">条码</view><view>：</view><view class="value">{{item.$orig.barcode}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">销售数量</view><view>：</view><view class="value">{{item.$orig.count}}</view></view><view class="flex"><view class="title" style="width:130rpx;text-align-last:justify;">剩余发货</view><view>：</view><view class="value">{{item.$orig.remain_send_count}}</view></view></view></view></block></checkbox-group></view><uni-pagination vue-id="65f2d9c6-17" total="{{totalShop}}" pageSize="20" current="{{pageShop}}" showIcon="{{true}}" data-event-opts="{{[['^change',[['handlePageShop']]]]}}" bind:change="__e" bind:__l="__l"></uni-pagination></view></view></view></view><view class="container fix-bottom"><button data-event-opts="{{[['tap',[['submit',['$event']]]]]}}" class="btn-submit" bindtap="__e">添加</button></view></view>